{% extends "dashboard/base.html" %}
{% load static %}

{% block title %}{{ article.titre }} — Dashboard{% endblock %}
{% block header %}{{ article.titre }}{% endblock %}

{% block content %}
<div class="bg-white p-6 rounded-lg shadow">
  <div class="flex justify-between items-center mb-4">
    <h3 class="text-xl font-semibold">{{ article.titre }}</h3>
    <a href="{% url 'articles:article_edit' article.slug %}" class="bg-blue-600 text-white px-3 py-1 rounded text-sm hover:bg-blue-700">✏️ Éditer</a>
  </div>

<div class="mb-4">
  {% if article.image %}
    <img src="{{ article.image.url }}" alt="{{ article.titre }}" class="rounded-lg w-full max-h-64 object-cover" loading="lazy">
  {% else %}
    <img src="{% static 'images/logo.png' %}" alt="Image par défaut" class="rounded-lg w-full max-h-64 object-cover" loading="lazy">
  {% endif %}
</div>


  <div class="text-sm text-gray-500 mb-6">
    <span>Catégorie : {{ article.get_categorie_display }}</span> • 
    <span>Publié le {{ article.date_publication|date:"d/m/Y H:i" }}</span> • 
    <span>Auteur : {{ article.auteur.username }}</span>
    {% if not article.active %}
      <span class="ml-2 px-2 py-1 text-xs bg-yellow-200 text-yellow-800 rounded">Non publié</span>
    {% endif %}
  </div>

  {% if article.resume %}
    <p class="italic text-gray-700 mb-4">{{ article.resume }}</p>
  {% endif %}

  <div class="prose max-w-none">
    {{ article.contenu|linebreaks }}
  </div>
</div>
{% endblock %}
